<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible"
              content="IE=edge">
              <meta name="viewport"
                    content="width=device-width, initial-scale=1.0">
        <title>Request Refund</title>

        {{! Bootstrap CSS }}
        <link rel="stylesheet"
              href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

        {{! Bootstrap JS }}
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

        {{! Font Awesome }}
        <script src="https://kit.fontawesome.com/yourcode.js"
                crossorigin="anonymous"></script>

        <script>
           $(document).ready(function() {
    // Request a refund for a ride
    $(document).on('click', '#requestRefund', function() {
        var ticketId = extractTicketIdFromUrl();
        
        $.ajax({
            url: `/api/v1/refund/${ticketId}`,
            type: 'POST',
            success: function(result) {
                console.log(result);
                $('#requestRefund').html(result);
            }
        });
    });
    
    function extractTicketIdFromUrl() {
        var url = window.location.href;
        var ticketIdIndex = url.lastIndexOf('/') + 1;
        var ticketId = url.substring(ticketIdIndex);
        return ticketId;
    }
});

        </script>

    </head>
    <body>
        <h1>Refund</h1>

        //Button to request a refund for a ride
        <button id="requestRefund"
                class="btn btn-primary">Request Refund</button>


        <div id="refundContainer"></div>
        
        <!-- Bootstrap JS -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>